<!-- ボタン1個でデータを受け取るテスト -->
<div style="padding: 20px; font-family: sans-serif;">
  <h2>外部応答テスト</h2>
  <button onclick="fetchChatData()" style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer;">データ取得してリスト生成</button>
</div>

<!-- 課題リスト表示エリア -->
<div id="responseArea" style="padding: 20px;"></div>

<script>
// 仮APIからデータを取ってくる
function fetchChatData() {
    // 仮の応答（本当はAPI呼び出しする）
    const mockApiResponse = `
過疎化の進行
医療施設の不足
空き家問題
地域経済の衰退
`;

    // リスト生成
    displayResponseAsList(mockApiResponse);
}

// リスト化して画面に出す
function displayResponseAsList(responseText) {
    const responseArea = document.getElementById('responseArea');
    responseArea.innerHTML = '';

    const list = document.createElement('ul');
    list.style.listStyle = 'none';
    list.style.padding = '0';

    const items = responseText.trim().split('\n');

    items.forEach((itemText, index) => {
        if (itemText.trim() !== '') {
            const listItem = document.createElement('li');
            listItem.textContent = itemText.trim();
            listItem.style.marginBottom = '12px';
            listItem.style.padding = '15px';
            listItem.style.backgroundColor = '#f5f5f5';
            listItem.style.borderRadius = '8px';
            listItem.style.cursor = 'pointer';
            listItem.style.transition = 'background-color 0.3s, transform 0.2s';

            listItem.addEventListener('mouseover', () => {
                listItem.style.backgroundColor = '#e0e0e0';
                listItem.style.transform = 'scale(1.02)';
            });
            listItem.addEventListener('mouseout', () => {
                listItem.style.backgroundColor = '#f5f5f5';
                listItem.style.transform = 'scale(1)';
            });

            listItem.addEventListener('click', () => {
                alert(`クリックされました：${itemText.trim()}`);
            });

            list.appendChild(listItem);
        }
    });

    responseArea.appendChild(list);
}
</script>
