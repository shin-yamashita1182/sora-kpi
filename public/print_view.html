<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å°åˆ·ãƒ“ãƒ¥ãƒ¼ã‚¢ - å‡ºåŠ›çµ±åˆãƒ¡ãƒ‹ãƒ¥ãƒ¼</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }

    header {
      background-color: #0077cc;
      color: white;
      padding: 1rem 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      text-align: center;
    }

    #menu {
      display: flex;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
      background-color: #e9ecef;
    }

    #menu button {
      background-color: #2a9d8f;
      border: none;
      color: white;
      padding: 10px 20px;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
    }

    #menu button:hover {
      background-color: #21867a;
    }

    #content {
      padding: 2rem;
      text-align: center;
    }

    .section-container {
      margin-top: 2rem;
      border-top: 1px solid #ccc;
      padding-top: 1rem;
    }

    #mindmapMetadata {
      text-align: left;
      margin-bottom: 1rem;
      background: #fff;
      border: 1px solid #ccc;
      padding: 1rem;
      border-radius: 6px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    #mindmapImage {
      display: block;
      margin: 1rem auto;
      max-width: 100%;
      border: 1px solid #999;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <header>ğŸ–¨ï¸ å°åˆ·ãƒ»å‡ºåŠ›ãƒ“ãƒ¥ãƒ¼ã‚¢</header>

  <!-- âœ… ç·åˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
  <div id="menu">
    <button onclick="loadSection('mindmap')">ğŸ§  ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—å˜ä½“</button>
    <button onclick="loadSection('summary')">ğŸ“Š çµ±åˆå‡ºåŠ›ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰</button>
    <button onclick="loadSection('cards')">ğŸ“‡ å®Ÿè¡Œç­–ä¸€è¦§</button>
    <button onclick="loadSection('3d')">ğŸŒ 3Dãƒ“ãƒ¥ãƒ¼ã‚¢</button>
  </div>

  <div id="content">
    <p>å‡ºåŠ›å†…å®¹ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
  </div>

  <!-- âœ… çµ±åˆå‡ºåŠ›ãªã©ã®è¿½åŠ UIé ˜åŸŸ -->
  <div class="section-container" id="detailSections"></div>

  <script>
    const sessionKey = localStorage.getItem("selectedSessionKey");
    const sessionData = sessionKey ? JSON.parse(localStorage.getItem(sessionKey)) : null;

    function loadSection(type) {
      const content = document.getElementById("content");
      const details = document.getElementById("detailSections");
      content.innerHTML = "";
      details.innerHTML = "";

      if (type === "mindmap") {
        const region = sessionData?.region || localStorage.getItem("region") || "åœ°åŸŸæœªè¨­å®š";
        const theme = sessionData?.theme || localStorage.getItem("theme") || "ãƒ†ãƒ¼ãƒæœªè¨­å®š";
        const imageData = sessionData?.mindmapImageData || localStorage.getItem("mindmapImageData");
        const dateStr = new Date().toLocaleDateString();

        const metadata = document.createElement("div");
        metadata.id = "mindmapMetadata";
        metadata.innerHTML = `
          <h2>ğŸ§  ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—å‡ºåŠ›</h2>
          <p><strong>åœ°åŸŸåï¼š</strong>${region}</p>
          <p><strong>ãƒ†ãƒ¼ãƒï¼š</strong>${theme}</p>
          <p><strong>å‡ºåŠ›æ—¥ï¼š</strong>${dateStr}</p>
        `;

        const img = document.createElement("img");
        img.id = "mindmapImage";
        img.src = imageData;
        img.alt = "ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ç”»åƒ";

        content.appendChild(metadata);
        content.appendChild(img);

        details.innerHTML = "<p style='margin-top: 1rem;'>ã“ã®ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ã¯ã€åœ°åŸŸã®èª²é¡Œã¨æ§‹é€ çš„ãªæ€è€ƒã‚’å¯è¦–åŒ–ã—ãŸè³‡æ–™ã§ã™ã€‚ä»Šå¾Œã®å¯¾ç­–ç«‹æ¡ˆã‚„å…±æœ‰ã«æ´»ç”¨ã§ãã¾ã™ã€‚</p>";
      } else if (type === "summary") {
        content.innerHTML = "<h2>ğŸ“Š çµ±åˆå‡ºåŠ›ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æƒ…å ±ï¼‰</h2><p>â€»ã“ã“ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®çµ±åˆãƒ¬ãƒãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>";
        details.innerHTML = "<p>[çµ±åˆã‚°ãƒ©ãƒ•ãƒ»KPIä¸€è¦§ãƒ»åœ°åŸŸæŒ‡æ¨™ãªã©ã®ãƒ‘ãƒãƒ«ãŒä»Šå¾Œã“ã“ã«å±•é–‹ã•ã‚Œã¾ã™]</p>";
      } else if (type === "cards") {
        content.innerHTML = "<h2>ğŸ“‡ å®Ÿè¡Œç­–ä¸€è¦§å‡ºåŠ›</h2><p>â€»ã“ã“ã«ã‚«ãƒ¼ãƒ‰ã®åˆ†é¡ã‚„ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>";
        details.innerHTML = "<p>[Mind Trigger Card è¡¨å½¢å¼ã€ãƒ©ãƒ™ãƒ«åˆ†é¡ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½äºˆå®š]</p>";
      } else if (type === "3d") {
        window.open("3d_viewer.html", "_blank");
      }
    }
    window.addEventListener("DOMContentLoaded", () => {
  const sessionKey = localStorage.getItem("selectedSessionKey");
  const sessionData = sessionKey ? JSON.parse(localStorage.getItem(sessionKey)) : null;
  if (sessionData?.mindmapImageData) {
   
  }
});
  </script>
</body>
</html>
