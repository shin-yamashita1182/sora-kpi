reader.onloadend = async () => {
  const base64Image = reader.result;
  const res = await fetch('/api/image-to-desc', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ image: base64Image })
  });
  const data = await res.json();

  if (data.error) {
    output.innerHTML = `<p style="color:red;">${data.error}</p>`;
    return;
  }

  const result = data.result; // ← ここ追加
  const langs = ["Japanese", "English", "Chinese", "Korean"];
  output.innerHTML = langs.map(lang => {
    return `<div class="lang-block"><strong>${lang}</strong><br>${result[lang.toLowerCase()]}</div>`;
  }).join('');
};
